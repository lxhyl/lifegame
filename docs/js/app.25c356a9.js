(function(t){function n(n){for(var i,l,a=n[0],c=n[1],u=n[2],f=0,h=[];f<a.length;f++)l=a[f],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&h.push(o[l][0]),o[l]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);s&&s(n);while(h.length)h.shift()();return r.push.apply(r,u||[]),e()}function e(){for(var t,n=0;n<r.length;n++){for(var e=r[n],i=!0,a=1;a<e.length;a++){var c=e[a];0!==o[c]&&(i=!1)}i&&(r.splice(n--,1),t=l(l.s=e[0]))}return t}var i={},o={app:0},r=[];function l(n){if(i[n])return i[n].exports;var e=i[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,l),e.l=!0,e.exports}l.m=t,l.c=i,l.d=function(t,n,e){l.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,n){if(1&n&&(t=l(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(l.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)l.d(e,i,function(n){return t[n]}.bind(null,i));return e},l.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(n,"a",n),n},l.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},l.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=n,a=a.slice();for(var u=0;u<a.length;u++)n(a[u]);var s=c;r.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"034f":function(t,n,e){"use strict";var i=e("85ec"),o=e.n(i);o.a},"56d7":function(t,n,e){"use strict";e.r(n);e("0fb4"),e("450d");var i=e("9944"),o=e.n(i),r=(e("e260"),e("e6cf"),e("cca6"),e("a79d"),e("2b0e")),l=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("lxhyl-canvas")],1)},a=[],c=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"main"},[e("button",{on:{click:function(n){t.drawer=!0}}},[t._v("点击打开配置项")]),e("p",[t._v(" 点击开始 "),e("button",{on:{click:t.reload}},[t._v("重玩")]),e("button",{on:{click:t.run}},[t._v("开始")]),e("button",{on:{click:t.stop}},[t._v("停止")]),e("button",{on:{click:t.stepOne}},[t._v("单步")])]),e("p",[t._v(" 速度 "),e("button",{on:{click:function(n){return t.speed(10)}}},[t._v("超快(1/100秒)")]),e("button",{on:{click:function(n){return t.speed(100)}}},[t._v("快(1/10秒)")]),e("button",{on:{click:function(n){return t.speed(1e3)}}},[t._v("匀速(1秒)")]),e("button",{on:{click:function(n){return t.speed(2e3)}}},[t._v("慢(2秒)")])]),e("p",[t._v("运行了"+t._s(t.index)+"次----FPS:"+t._s(t.fps))]),e("el-drawer",{attrs:{title:"标题",visible:t.drawer,direction:"ltr","with-header":!1},on:{"update:visible":function(n){t.drawer=n}}},[e("div",[e("p",[t._v(" 单个元素大小 "),e("button",{on:{click:function(n){return t.size(2)}}},[t._v("小")]),e("button",{on:{click:function(n){return t.size(5)}}},[t._v("中")]),e("button",{on:{click:function(n){return t.size(10)}}},[t._v("大")])]),e("p",[t._v(" 随机初始化 "),e("button",{on:{click:function(n){return t.random(2)}}},[t._v("1/2")]),e("button",{on:{click:function(n){return t.random(5)}}},[t._v("1/5")]),e("button",{on:{click:function(n){return t.random(10)}}},[t._v("1/10")]),e("button",{on:{click:function(n){return t.random(20)}}},[t._v("1/20")])]),e("h3",[t._v("模板(点击模板，再双击灰色画布，即可放置)")]),e("p",[t._v(" 稳定状态： "),e("button",{on:{click:function(n){return t.changeTemplate(t.wending.fangkuai)}}},[t._v("方块")]),e("button",{on:{click:function(n){return t.changeTemplate(t.wending.fengchao)}}},[t._v("蜂巢")])]),e("p",[t._v(" 震荡状态 "),e("button",{on:{click:function(n){return t.changeTemplate(t.zhendang.honglvdeng)}}},[t._v("红绿灯")]),e("button",{on:{click:function(n){return t.changeTemplate(t.zhendang.wa)}}},[t._v("蛙")])]),e("p",[t._v(" 移动状态 "),e("button",{on:{click:function(n){return t.changeTemplate(t.yidong.huaxiangji)}}},[t._v("滑翔机")]),e("button",{on:{click:function(n){return t.changeTemplate(t.yidong.qxfc)}}},[t._v("轻型飞船")]),e("button",{on:{click:function(n){return t.changeTemplate(t.yidong.zxfc)}}},[t._v("中型飞船")])])])]),e("canvas",{attrs:{width:"1400",height:"800"}})],1)},u=[],s=(e("cb29"),e("d81d"),e("d4ec")),f=e("bee2"),h={fangkuai:[[0,0],[0,1],[1,0],[1,1]],fengchao:[[0,1],[0,2],[1,0],[1,3],[2,1],[2,2]]},v={honglvdeng:[[0,0],[0,1],[0,2]],wa:[[0,1],[0,2],[0,3],[1,0],[1,1],[1,2]]},d={huaxiangji:[[0,1],[1,2],[2,0],[2,1],[2,2]],qxfc:[[0,1],[0,4],[1,0],[2,0],[2,4],[3,0],[3,1],[3,2],[3,3]],zxfc:[[0,10],[1,8],[1,9],[1,10],[1,12],[1,13],[1,14],[2,7],[2,8],[2,15],[3,2],[3,6],[3,9],[3,13],[3,14],[4,1],[4,2],[4,3],[4,4],[5,0],[5,4],[6,1],[6,3],[6,6],[7,5]]},p=function(){function t(n){Object(s["a"])(this,t),this.el=n,this.list=[],this.context=null,this.item=null,this.timer=null,this.template=h.fangkuai}return Object(f["a"])(t,[{key:"init",value:function(t,n,e){var i=this;this.item=e;var o=Math.floor(t/e),r=Math.floor(n/e);this.list=new Array(r).fill(void 0).map((function(){return new Array(o).fill(0)})),this.context=this.el.getContext("2d"),this.el.addEventListener("click",(function(t){clearTimeout(i.timer),i.timer=setTimeout((function(){i.drawPoint(i.getEventPositionChangeList(t))}),300)}),!0),this.el.addEventListener("dblclick",(function(t){clearTimeout(i.timer);var n=i.getdblclickPosi(t);i.drawTemplate(i.template,n)}),!1)}},{key:"getEventPositionChangeList",value:function(t){var n,e;t.layerX||0==t.layerX?(n=t.layerX,e=t.layerY):(t.offsetX||0==t.offsetX)&&(n=t.offsetX,e=t.offsetY);var i={x:Math.floor(n/this.item),y:Math.floor(e/this.item)};return this.list[i.y][i.x]=1,i}},{key:"drawPoint",value:function(t){var n=this.item;this.context.fillStyle="#E91E63",this.context.fillRect(t.x*n,t.y*n,n,n)}},{key:"run",value:function(){for(var t=this.item,n=this.list.length,e=this.list[0].length,i=[],o=[],r=1;r<n-1;r++)for(var l=1;l<e-1;l++){var a=0;this.list[r-1][l-1]&&a++,this.list[r-1][l]&&a++,this.list[r-1][l+1]&&a++,this.list[r][l-1]&&a++,this.list[r][l+1]&&a++,this.list[r+1][l-1]&&a++,this.list[r+1][l]&&a++,this.list[r+1][l+1]&&a++,1==this.list[r][l]&&((a<2||a>3)&&i.push([r,l]),2!=a&&3!=a||o.push([r,l])),0==this.list[r][l]&&3==a&&o.push([r,l])}for(var c=0;c<i.length;c++){var u=i[c][1],s=i[c][0];this.list[s][u]=0,this.context.clearRect(u*t,s*t,t,t)}for(var f=0;f<o.length;f++){var h=o[f][1],v=o[f][0];this.list[v][h]=1,this.context.fillStyle="#E91E63",this.context.fillRect(h*t,v*t,t,t)}}},{key:"random",value:function(t){for(var n=this.item,e=this.list.length,i=this.list[0].length,o=1;o<e-1;o++)for(var r=1;r<i-1;r++){var l=Math.floor(Math.random()*t);1==l&&(this.list[o][r]=1),1==this.list[o][r]&&(this.context.fillStyle="#E91E63",this.context.fillRect(r*n,o*n,n,n))}}},{key:"getdblclickPosi",value:function(t){var n,e,i=this.item;t.layerX||0==t.layerX?(n=t.layerX,e=t.layerY):(t.offsetX||0==t.offsetX)&&(n=t.offsetX,e=t.offsetY);var o={x:Math.floor(n/i),y:Math.floor(e/i)};return o}},{key:"drawTemplate",value:function(t,n){for(var e=this.item,i=t.length,o=n.x,r=n.y,l=0;l<i;l++){var a=o+t[l][1],c=r+t[l][0];a<this.list[0].length-1&&c<this.list.length&&(this.list[c][a]=1,this.context.fillStyle="#E91E63",this.context.fillRect(a*e,c*e,e,e))}}},{key:"changeTemplate",value:function(t){console.log(t),this.template=t}}]),t}(),m={name:"LxhylCanvas",data:function(){return{drawer:!1,lxhyl:null,timer:null,time:100,item:5,index:0,fps:0,wending:h,zhendang:v,yidong:d}},created:function(){},mounted:function(){var t=document.getElementsByTagName("canvas")[0];this.lxhyl=new p(t),this.lxhyl.init(1400,800,this.item),this.fpsFun()},methods:{run:function(){var t=this;this.timer=setInterval((function(){t.lxhyl.run(),t.index++}),this.time)},random:function(t){this.lxhyl.random(t)},size:function(t){this.item=t,this.lxhyl.init(1400,800,t)},stepOne:function(){clearInterval(this.timer),this.timer=null,this.lxhyl.run()},stop:function(){clearInterval(this.timer),this.timer=null},reload:function(){location.reload()},speed:function(t){this.time=t,clearInterval(this.timer),this.timer=null,this.run()},fpsFun:function(){var t=this,n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),e=0,i=Date.now(),o=Date.now(),r=function r(){var l=Date.now(),a=l-o,c=Math.round(1e3/a);if(o=l,e++,l>1e3+i){c=Math.round(1e3*e/(l-i));t.fps=c,e=0,i=l}n(r)};r()},changeTemplate:function(t){this.lxhyl.changeTemplate(t)}}},g=m,b=(e("bebf"),e("2877")),y=Object(b["a"])(g,c,u,!1,null,"abac0208",null),x=y.exports,_={name:"App",components:{LxhylCanvas:x}},k=_,w=(e("034f"),Object(b["a"])(k,l,a,!1,null,null,null)),T=w.exports;e("0fae");r["default"].config.productionTip=!1,r["default"].use(o.a),new r["default"]({render:function(t){return t(T)}}).$mount("#app")},"5e5f":function(t,n,e){},"85ec":function(t,n,e){},bebf:function(t,n,e){"use strict";var i=e("5e5f"),o=e.n(i);o.a}});